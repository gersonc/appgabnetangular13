<div
  style="
  padding: 10px;
  border-width: 2px 0 2px 2px;
  border-radius: 5px;
  outline: 0 none;
  -webkit-box-shadow: none;
  -moz-box-shadow: none;
  box-shadow: none;
  background-color: white;
  align-content: center;
  "
>
  <div *ngIf="!cfs.configuracao" class="container" style="text-align:center">
    <h3><b>ESCOLHA UMA DAS OPÇÕES</b></h3>
  </div>
  <table *ngIf="cfs.configuracao" class="tabela table-hover" style="width: 100%;">
    <!--<caption *ngIf="cfs.configuracao.titulo"><b>{{cfs.configuracao.titulo}}</b></caption>-->
    <thead *ngIf="perIncluir">
      <tr *ngIf="!mostraIncluir">
        <td>&nbsp;</td>
        <td style="text-align:center; padding-bottom: .3em; padding-top: .3em; width: 7rem;">
          <button [disabled]="btnOff" pButton pRipple type="button" icon="pi pi-plus" class="config p-button-raised p-button-rounded" style="margin-right: .5em" (click)="clickIncluir()"></button>
        </td>
      </tr>
      <tr *ngIf="mostraIncluir">
      <td [ngStyle]="cssIncluir()">
        <p-messages key="msgIncluirErro" [(value)]="msgErroIncluir"></p-messages>
        <input type="text" pInputText [(ngModel)]="nomeIncluir" size="60" maxlength="80" />
      </td>
      <td style="text-align:right; padding-bottom: .3em; padding-top: .3em; width: 7rem;" [ngStyle]="cssIncluir()">
        <button pButton pRipple type="button" icon="pi pi-check" class="config p-button-raised p-button-rounded p-button-success" style="margin-right: .5em"  (click)="onIncluir()"></button>
        <button pButton pRipple type="button" icon="pi pi-times" class="config p-button-raised p-button-rounded p-button-warning" (click)="onCancela()" ></button>
      </td>
    </tr>
    </thead>
    <tr *ngFor="let cf of listagem; let i=index">
      <ng-container *ngIf="acao=='editar' && perAltarar && i===idx">
        <td [ngStyle]="cssAlterar()">
          <p-messages key="msgEditarErro" *ngIf="msgErroEditar" [(value)]="msgErroEditar"></p-messages>
          <input
            *ngIf="mostraAlterar !== 0"
            type="text"
            pInputText
            [(ngModel)]="nome"
            [size]="60"
            [maxlength]="80"
          />
        </td>
        <td style="text-align:right; padding-bottom: .3em; padding-top: .3em; width: 7rem;" [ngStyle]="cssAlterar()">
          <p-messages key="msgEditarErro" *ngIf="msgErroEditar" [(value)]="msgErroEditar"></p-messages>
          <button *ngIf="!confirmaAlterar && mostraAlterar !== 0"  pButton pRipple type="button" icon="pi pi-check" class="config p-button-raised p-button-rounded p-button-success" style="margin-right: .5em" (click)="onAlterar()"></button>
          <button *ngIf="confirmaAlterar && mostraAlterar !== 0"  pButton pRipple type="button" icon="pi pi-times" class="config p-button-raised p-button-rounded p-button-warning" (click)="onAlterarConfirma()"></button>
          <button pButton type="button" icon="pi pi-times" class="config p-button-raised p-button-rounded p-button-warning" (click)="onCancela()" ></button>
        </td>
      </ng-container>
      <ng-container *ngIf="acao=='deletar' && i===idx">
        <td [ngStyle]="cssApagar()">
          <p-messages key="msg1" *ngIf="msgs" [(value)]="msgs"></p-messages>
          <p-dropdown
            *ngIf="mostraDropDown"
            [(ngModel)]="drop"
            placeholder="Selecione &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
            [options]="dropDown"
            [required]="true"
            [autofocus]="true"
            [style]="{'width':'100%', 'max-width': '313px'}"
          ></p-dropdown>
          &nbsp;&nbsp;
          <span *ngIf="!mostraDropDown">{{cf.campo_nome}}</span>
        </td>
        <td style="text-align:right; padding-bottom: .3em; padding-top: .3em; width: 7rem;" [ngStyle]="cssApagar()">
          <button *ngIf="mostraDropDown && perDeletar && confirmaApagar && mostraApagar !== 0"
                  pButton
                  pRipple
                  type="button"
                  icon="pi pi-check" class="config p-button-raised p-button-rounded p-button-danger" style="margin-right: .5em"
                  (click)="onApagarConfirma()"
          ></button>
          <button *ngIf="!mostraDropDown && perDeletar && confirmaApagar && mostraApagar !== 0"
                  pButton
                  pRipple
                  type="button"
                  icon="pi pi-check" class="config p-button-raised p-button-rounded p-button-danger"
                  (click)="onApagar()"
          ></button>
          <button pButton pRipple type="button" icon="pi pi-times" class="config p-button-raised p-button-rounded p-button-warning" (click)="onCancela()" ></button>
        </td>
      </ng-container>
      <ng-container *ngIf="i!==idx">
        <td style="padding-left: 1rem">
          {{cf.campo_nome}}
        </td>
        <td *ngIf="i!==idx" style="text-align:right; padding-bottom: .3em; padding-top: .3em; width: 7rem;">
          <button *ngIf="perAltarar" pButton pRipple type="button" icon="pi pi-pencil" (click)="onEditar(cf.campo_id, cf.campo_nome, i)" class="config p-button-raised p-button-rounded p-button-info" style="margin-right: .5em" [disabled]="!alt.configuracao_alterar && mostraAlterar == 0 && mostraApagar == 0"></button>
          <button *ngIf="perDeletar" pButton pRipple type="button" icon="pi pi-trash" (click)="onDeletar(cf.campo_id, cf.campo_nome, i)" class="config p-button-raised p-button-rounded p-button-danger" [disabled]="!alt.configuracao_apagar  && mostraAlterar == 0 && mostraApagar == 0"></button>
        </td>
      </ng-container>
    </tr>
  </table>
</div>

<br>
<br>
<br>
<p-toast key="msg2"></p-toast>
<p-toast key="msgIncluir" position="center"></p-toast>
<p-toast key="msgExcluir" position="center"></p-toast>
