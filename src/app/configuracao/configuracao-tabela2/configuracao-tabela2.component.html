<!--<div
  style="
  padding: 10px;
  border-width: 2px 0 2px 2px;
  border-radius: 5px;
  outline: 0 none;
  -webkit-box-shadow: none;
  -moz-box-shadow: none;
  box-shadow: none;
  background-color: white;
  align-content: center;
  "
>-->
<p-table
  *ngIf="cfs.configuracao2"
  [value]="listagem"
  dataKey="campo_id"
  editMode="row"
  [scrollable]="true"
  [scrollHeight]="altura"
  styleClass="tablistagem p-datatable-sm p-datatable-striped p-datatable-gridlines p-selectable-row"
>
  <ng-template pTemplate="header">
    <tr>
      <th>{{cfs.configuracao2.titulo}}</th>
      <th>{{campo_txt2}}</th>
      <th style="text-align:right; padding-bottom: .3em; padding-top: .3em; width: 7rem;">
        <button *ngIf="alt.configuracao_incluir && !incluindo" pButton type="button" icon="pi pi-plus" (click)="onIncluindo()" class="p-button-raised p-button-rounded p-button-sm" [disabled]="editando"></button>
      </th>
    </tr>
    <tr *ngIf="alt.configuracao_incluir && incluindo">
      <th><input pInputText type="text" [(ngModel)]="nomeIncluir" required></th>
      <th>
        <p-colorPicker *ngIf="cfs.configuracao2.tabela === 'prioridade'" [(ngModel)]="campo_txt1Incluir"></p-colorPicker>
        <p-dropdown *ngIf="cfs.configuracao2.tabela === 'tipo_cadastro'" [options]="ddTipoCadastroTipo" [(ngModel)]="campo_id2_incluir"></p-dropdown>
      </th>
      <th style="text-align: center">
        <button  pButton pRipple type="button" icon="pi pi-check" class="config p-button-raised p-button-rounded p-button-success p-button-sm" style="margin-right: .5em" (click)="onIncluir()"></button>
        <button pButton pRipple type="button" icon="pi pi-times" class="config p-button-raised p-button-rounded p-button-warning p-button-sm" (click)="onCancela()" ></button>
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData let-editing="editing" let-ri="rowIndex">
    <tr [pEditableRow]="rowData" >
      <td *ngIf="acao!=='deletar' && ri!==idx && !confirmaApagar">
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input pInputText type="text" [(ngModel)]="rowData.campo_nome" required>
          </ng-template>
          <ng-template pTemplate="output">
            {{rowData.campo_nome}}
          </ng-template>
        </p-cellEditor>
      </td>
      <td *ngIf="acao!=='deletar' && ri!==idx && !confirmaApagar">
        <p-cellEditor *ngIf="cfs.configuracao2.tabela === 'prioridade'">
          <ng-template pTemplate="input">
            <p-colorPicker [(ngModel)]="rowData.campo_txt1"></p-colorPicker>
          </ng-template>
          <ng-template pTemplate="output">
            <div style="
            background-color: #cccccc;
            border: 2px solid var(--surface-400);
            padding: 0.429em;
            height: 30px;
            width: 2em;
            float: left"
            [style]="{'backgroundColor':rowData.campo_txt1}"></div> &nbsp;&nbsp; {{getCorTxt(rowData.campo_txt1)}}
          </ng-template>
        </p-cellEditor>
        <p-cellEditor *ngIf="cfs.configuracao2.tabela === 'tipo_cadastro'">
          <ng-template pTemplate="input">
            <p-dropdown [options]="ddTipoCadastroTipo" [(ngModel)]="rowData.campo_id2"></p-dropdown>
          </ng-template>
          <ng-template pTemplate="output">
            {{pfpj(rowData.campo_id2)}}
          </ng-template>
        </p-cellEditor>
      </td>
      <td *ngIf="acao!=='deletar'" style="text-align:right; padding-bottom: .3em; padding-top: .3em; width: 7rem;">
        <button *ngIf="!editing" pButton type="button" pInitEditableRow icon="pi pi-pencil" (click)="onRowEditInit(rowData)" class="config p-button-raised p-button-rounded p-button-info p-button-sm" style="margin-right: .5em" [disabled]="!alt.configuracao_alterar || incluindo || editando"></button>
        <button *ngIf="!editing" pButton type="button" icon="pi pi-trash" (click)="onDeletar(rowData, ri)" class="config p-button-raised p-button-rounded p-button-danger p-button-sm" [disabled]="!alt.configuracao_apagar || incluindo || editando"></button>
        <button *ngIf="editing"  pButton type="button" pSaveEditableRow icon="pi pi-check" class="config p-button-raised p-button-rounded p-button-success p-button-sm" style="margin-right: .5em" (click)="onRowEditSave(rowData)"></button>
        <button *ngIf="editing"  pButton type="button" pCancelEditableRow icon="pi pi-times" class="config p-button-raised p-button-rounded p-button-warning p-button-sm" (click)="onRowEditCancel(rowData, ri)"></button>
      </td>
      <ng-container *ngIf="acao==='deletar' && confirmaApagar && ri===idx && alt.configuracao_apagar">
        <td colspan="2">
          <div class="atencao">
            <div><i class="pi pi-exclamation-triangle"  style="color: var(--danger);font-size: 3em;"></i></div>
            <div *ngFor="let ms of msg">
              {{ms}}
            </div>
          </div>
          <br>
          <p-dropdown
            *ngIf="mostraDropDown"
            [(ngModel)]="drop"
            placeholder="Selecione"
            [options]="dropDown"
            [required]="true"
            [autofocus]="true"
            [style]="{'width':'100%', 'max-width': '313px'}"
          ></p-dropdown>
          &nbsp;&nbsp;
          <span *ngIf="!mostraDropDown">{{rowData.campo_nome}}</span>
        </td>
        <td style="text-align:right; padding-bottom: .3em; padding-top: .3em; width: 7rem;">
          <button *ngIf="mostraDropDown"
                  pButton
                  type="button"
                  class="p-button-rounded p-button-danger p-button-sm"
                  label="CONFIRMAR"
                  (click)="onApagarConfirma()"
          ></button>
          &nbsp;&nbsp;
          <button *ngIf="!mostraDropDown"
                  pButton
                  type="button"
                  class="p-button-rounded p-button-danger p-button-sm"
                  label="CONFIRMAR"
                  (click)="onApagar()"
          ></button>
          &nbsp;&nbsp;
          <button pButton type="button" icon="pi pi-times" class="config p-button-raised p-button-rounded p-button-warning p-button-sm" (click)="onCancela()" ></button>
        </td>
      </ng-container>
    </tr>
  </ng-template>
</p-table>


<!--</div>-->
<br>
<p-dropdown #tdd [options]="dropDown" [(ngModel)]="testeDD" placeholder="Selecione" [showClear]="true" styleClass="ddteste" (onChange)="testarDD($event,tdd.selectedOption)">
  <ng-template let-it pTemplate="item">
    <div [ngStyle]="ddcor(it.styleClass)">
      {{it.label}}
    </div>
  </ng-template>
</p-dropdown>
<br>
<app-dropdown-colorido [(variavel)]="testeDD2" [dropDown]="dropDown" (onMuda)="testarDD2($event)"></app-dropdown-colorido>
<br>
<p-toast key="msg2" position="center" (onClose)="toastClose()"></p-toast>
<p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000" [acceptLabel]="'SIM'" [rejectLabel]="'NÃƒO'"></p-confirmDialog>

