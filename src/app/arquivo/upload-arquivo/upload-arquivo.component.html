
<p-fileUpload
  #fileUpload
  name="arquivo[]"
  (onUpload)="onEnviado($event)"
  (onSelect)="onSelect($event)"
  (onClear)="onClear()"
  (onRemove)="onRemove($event)"
  (onBeforeUpload)="onBeforeUpload($event)"
  (onProgress)="onProgress($event)"
  [chooseLabel]="chooseLabel"
  [uploadLabel]="uploadLabel"
  [cancelLabel]="cancelLabel"
  [showCancelButton]="showCancelButton"
  [showUploadButton]="mostraBtnUpload"
  [multiple]="multiple"
  [accept]="accept"
  [maxFileSize]="maxFileSize"
  [disabled]="disabled"
  [fileLimit]="fileLimit"
  [styleClass]="stiloClasse"
  [auto]="auto"
  [method]="'post'"
>


  <ng-template let-file pTemplate="file">


    <div class="flex flex-row align-items-center justify-content-between mx-1 my-2 p-1 shadow-1">
      <div class="flex flex-column justify-content-start m-0 p-0">
          <div class="px-1 justify-content-start filename">
            {{file.name}}
          </div>
          <div class="px-1 justify-content-start filesize">
            {{formatSize(file.size)}}
          </div>
      </div>
      <div class="flex flex-row justify-content-end align-items-center m-0 p-0">
      <div class="mr-1-0 p-1">
        <button pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-secondary p-button-text" (click)="meuRemove($event, file)" [disabled]="uploading"></button>
      </div>

      <div class="m-0 p-0">
        <img [src]="file.objectURL" *ngIf="fileUpload.isImage(file)" [width]="previewWidth" /><img [src]="getIcone(file.name)" *ngIf="!fileUpload.isImage(file)" [width]="previewWidth" />
      </div>
      </div>
   </div>

  </ng-template>


</p-fileUpload>
<!--<p-dialog [(visible)]="mostraProgresso" [showHeader]="false" [closable]="false" [dismissableMask]="false" [closeOnEscape]="false" [modal]="true" [breakpoints]="{'960px': '75vw', '640px': '100vw'}" [style]="{width: '50vw', height: '3rem'}">
  <p-progressBar [value]="progresso"></p-progressBar>
</p-dialog>-->


