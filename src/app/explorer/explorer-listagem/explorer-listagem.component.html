<ng-container *ngIf="arquivo">
  <div class="explorer-arquivo" #arq>
    <div id="tst" class="explorer-arquivo-icons" [ngStyle]="{'background': urlbackGround, 'background-size': 'contain'}"
         (click)="op.toggle($event)">
    </div>
    <div class="explorer-file-text" (click)="op.toggle($event)">
      {{arquivo.arquivo_nome_original}}
    </div>
  </div>
</ng-container>

<p-overlayPanel #op [dismissable]="true" [showCloseIcon]="true" class="explorer">
  <ng-template pTemplate>

      <div class="explorer-overlay-text">
        <div>{{arquivo.arquivo_nome_original}}</div>
        <div>{{readableBytes(arquivo.arquivo_tamanho)}}</div>
      </div>
      <div class="p-d-inline explorer-overlay-content">
        <a href="{{arquivo.arquivo_url_s3}}">
          <p-avatar icon="pi pi-download" shape="circle" styleClass="p-shadow-3 explorer-download"></p-avatar>
        </a>
        <div class="explorer-overlay-buttons" *ngIf="exs.mostraUpload()">
          <p-avatar icon="pi pi-trash" shape="circle" (click)="onApagarArquivo()"
                    styleClass="p-shadow-3 explorer-delete"></p-avatar>
        </div>
      </div>
  </ng-template>
</p-overlayPanel>


<ng-container *ngIf="pasta">
  <div class="explorer-folder">
    <ng-container>
    <div class="explorer-folder-icons"
         (click)="exs.addCaminho(pasta.arquivo_pasta_id)"
         (auxclick)="fdr.toggle($event)"
         (contextmenu)="onRightClickPasta($event)"
    >
    </div>
    <div class="explorer-file-text"
         (click)="exs.addCaminho(pasta.arquivo_pasta_id)"
         (auxclick)="fdr.toggle($event)"
         (contextmenu)="onRightClickPasta($event)"
    >
      {{pasta.arquivo_pasta_titulo}}
    </div>
    </ng-container>
  </div>

</ng-container>

<p-overlayPanel #fdr [dismissable]="!exs.desligaBtnApagar" [showCloseIcon]="!exs.desligaBtnApagar" class="explorer">
  <ng-template pTemplate>
    <ng-container *ngIf="mostraApagar">
      <div class="p-d-flex p-ai-center atencao">
        <i class="pi pi-exclamation-triangle p-mr-2" style="font-size: 2rem"></i>
        <div><h4>Atenção</h4></div>
      </div>
      <div class="aviso0">
        Todas as pastas e arquivos incluidos nesta pasta serão apagados definitivamente.
      </div>
      <div class="aviso1">
        Confirma apagar?
      </div>
      <div class="p-d-flex p-jc-between">
        <div><button pButton pRipple type="button" label="Sim" class="p-button-rounded p-button-danger" (click)="apagarPasta()" [disabled]="exs.desligaBtnApagar"></button></div>
        <div><button pButton pRipple type="button" label="Não" class="p-button-rounded p-button-secondary" (click)="fdr.hide()" [disabled]="exs.desligaBtnApagar"></button></div>
      </div>
    </ng-container>

    <ng-container *ngIf="!mostraApagar">
      <div class="p-d-flex p-ai-center atencao">
        <i class="pi pi-exclamation-triangle p-mr-2" style="font-size: 2rem"></i>
        <div><h4>Atenção</h4></div>
      </div>
      <div class="aviso0">
        Esta pasta não pode ser apagada.
      </div>
    </ng-container>
  </ng-template>
</p-overlayPanel>


